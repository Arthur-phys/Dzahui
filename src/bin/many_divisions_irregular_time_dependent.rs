use dzahui::{DzahuiWindow, DzahuiWindowBuilder, DiffussionParams};

/// Simple time-dependent diffussion example with irregular nesh
fn main() {
    /* TIME DEPENDENT DIFFUSSION */
    let diffussion_params = DiffussionParams::time_dependent()
    .b(1.0)
    .mu(1.0)
    .boundary_conditions(1.0, 2400.0)
    .initial_conditions([201.4484036392915, 1.0,492.3196981825209,42.64803223309577,870.9213970533502,539.7184250051528,384.5922488465431,321.810093038972,743.790916757316,776.8568356862988,322.3655890082021,739.9491413321899,686.8848062007713,993.0569706617383,52.86387795130998,823.054257657095,350.16060995882117,843.0372347847824,38.55640958574546,281.05948226957236,178.55444307462687,984.7098139078868,782.7445370094918,797.7237804755943,371.2748028610543,343.1339711571733,59.159084377574445,984.1549599579731,476.32548784256636,732.9887839365053,71.13790653139584,596.9801895231594,634.3375823177979,680.3117032334035,872.714283524882,351.4978053230889,19.450985465884752,715.114262158144,421.87183919859496,744.7081629857314,416.74643250102673,818.2678242939198,548.6242683663042,969.0101369261439,954.3541382733562,474.7866248201627,192.82100852446015,586.8694958724775,349.71398983287247,363.42072165767246,329.62879516078937,504.8564378366627,796.7521265678408,68.91517724881291,525.0062293105726,315.20657946330357,829.1238957284854,394.940015585977,958.2870974791394,91.92677768804558,340.5322390161741,172.06340645177542,716.349368734603,144.54942926795476,163.90507193147695,942.0396009707173,785.2449025550425,209.83813174112564,201.01440134139392,462.0425605173437,715.2264629044815,147.71267071768725,703.8009615826993,223.01634217937993,396.9450733575689,899.1022528967229,485.29051894776796,43.6354864828038,903.1340500841544,236.2543710972025,59.87009791025477,462.65477798843756,760.2881126460782,19.00941417201485,61.47728156355481,403.5046403507628,95.01712424077013,217.01561094749465,755.4636609579426,677.8726628618198,421.2165203301997,856.2485214660073,10.952630484310944,191.9214082724251,50.730545322474455,223.5099956246218,839.0235446418401,730.8926701380399,432.4905065872721,382.34687573776336,216.35988032017684,388.4985562204052,138.26478934280362,591.0214268505927,181.30724375270913,698.8146150896467,731.775082743732,848.3808470956707,758.3920815427821,269.74945195991205,842.8463679482655,98.4929979544923,134.06064454645184,500.0889661616036,414.964838862656,998.7862415605435,838.72125616691,711.0958306125457,386.8834793021798,559.0125219143328,867.0768417295045,944.1636172532359,587.9785988685842,471.83310629579256,523.4851346810284,252.1142097234964,428.05671796745656,693.6807702445316,680.3256756593347,351.50977091544235,995.3569001689154,647.4591126080581,248.8067148845019,799.6992164413332,598.5485229971283,568.613269328852,427.13653288643707,826.0793407619954,180.22402366389812,353.2305150292916,174.01392835252872,533.0500689829734,860.4827308844589,709.4118047212252,604.3140740992214,315.6899664302718,791.1221669511153,797.3676116530673,682.8779703576195,122.90137126219913,643.8797466844542,451.08782359862096,154.3047987468804,789.1006708285754,19.26812752241269,53.404859535713946,542.9058399915099,50.99331872692958,563.5569791487151,517.7291805234504,122.24058591882614,143.51620644104267,566.8870577152402,932.210342872984,991.5242776189974,171.8980943953615,733.6839642566528,650.0236589332576,557.8257307267659,437.55273008051967,154.71835235531552,898.8251985009107,991.3564277051538,952.509547271117,823.1376507186635,603.0368628100289,565.8664359845903,80.57769878579212,162.8424345791786,784.1939834544484,53.144870212923024,496.68747112369005,0.4322728551029442,266.6374261011639,301.918665421616,536.4014498012954,361.3947589240969,780.7432776243268,435.5024714964749,844.6229762454388,751.9510524386159,218.18716250994686,787.5672100662858,768.9248315987516,453.4648134844265,287.28354684987255,204.8431832465767,131.02569246293282,470.7057269816953,
        ]).build();
    
    //Creating window with predetermined configuration
    let window_builder: DzahuiWindowBuilder = DzahuiWindow::builder("./assets/1dbar_many_divisions_irregular.obj")
        .solve_1d_time_dependent_diffussion(diffussion_params)
        .with_integration_iteration(150).with_time_step(0.00000001).enable_height_multiplier(40_f64);

    let window = window_builder.build();
    window.run();
    
}